{"ast":null,"code":"var _jsxFileName = \"/home/syed/reactProjects/training/xprolabs/account-system/src/Components/Auth/LoginForm.js\",\n    _s = $RefreshSig$();\n\nimport React, { useRef, useEffect, useReducer, useContext } from 'react';\nimport classes from './LoginForm.module.css';\nimport Input from '../UI/Input';\nimport AuthContext from '../Store/auth-context';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst authReducer = (state, action) => {\n  if (action.type == 'LOGIN') {\n    return {\n      email: action.email,\n      password: action.password\n    };\n  } else {\n    return {\n      email: '',\n      password: ''\n    };\n  }\n};\n\nfunction LoginForm(props) {\n  _s();\n\n  const InitialUser = {\n    email: '',\n    password: ''\n  };\n  const emailRef = useRef();\n  const passwordRef = useRef();\n  const [authState, dispatch] = useReducer(authReducer, InitialUser);\n  const ctxAuth = useContext(AuthContext);\n\n  const changeEmailHandler = () => {\n    dispatch({\n      type: \"EMAIL_VALIDATE\",\n      email: emailRef.current.value,\n      password: passwordRef.current.value\n    });\n  };\n\n  const submitHandler = e => {\n    e.preventDefault();\n\n    if (emailRef.current.value !== '') {\n      console.log(\"updated state\" + authState.email);\n      ctxAuth.onSetUser(emailRef.current.value, passwordRef.current.value);\n    }\n  };\n\n  useEffect(() => {\n    emailRef.current.focus();\n    console.log(\"focusing\");\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    className: classes.form,\n    onSubmit: submitHandler,\n    children: [/*#__PURE__*/_jsxDEV(Input, {\n      label: \"Email\",\n      ref: emailRef,\n      input: {\n        type: \"email\",\n        onChange: changeEmailHandler\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(Input, {\n      label: \"Password\",\n      ref: passwordRef,\n      input: {\n        type: \"password\",\n        onChange: changeEmailHandler\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"submit\",\n      children: \"Login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 3\n  }, this);\n}\n\n_s(LoginForm, \"rfgXo6UyW47+ti8G3A5iCK+xSBg=\");\n\n_c = LoginForm;\nexport default LoginForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"LoginForm\");","map":{"version":3,"sources":["/home/syed/reactProjects/training/xprolabs/account-system/src/Components/Auth/LoginForm.js"],"names":["React","useRef","useEffect","useReducer","useContext","classes","Input","AuthContext","authReducer","state","action","type","email","password","LoginForm","props","InitialUser","emailRef","passwordRef","authState","dispatch","ctxAuth","changeEmailHandler","current","value","submitHandler","e","preventDefault","console","log","onSetUser","focus","form","onChange"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,MAAhB,EAAwBC,SAAxB,EAAmCC,UAAnC,EAA+CC,UAA/C,QAAgE,OAAhE;AACA,OAAOC,OAAP,MAAoB,wBAApB;AACA,OAAOC,KAAP,MAAkB,aAAlB;AACA,OAAOC,WAAP,MAAwB,uBAAxB;;;AAEA,MAAMC,WAAW,GAAG,CAACC,KAAD,EAAQC,MAAR,KAAmB;AAEtC,MAAIA,MAAM,CAACC,IAAP,IAAe,OAAnB,EAA4B;AAC3B,WAAO;AAAEC,MAAAA,KAAK,EAAEF,MAAM,CAACE,KAAhB;AAAuBC,MAAAA,QAAQ,EAAEH,MAAM,CAACG;AAAxC,KAAP;AACA,GAFD,MAEO;AACN,WAAO;AAAED,MAAAA,KAAK,EAAE,EAAT;AAAaC,MAAAA,QAAQ,EAAE;AAAvB,KAAP;AACA;AAED,CARD;;AAUA,SAASC,SAAT,CAAoBC,KAApB,EAA2B;AAAA;;AAE1B,QAAMC,WAAW,GAAG;AAACJ,IAAAA,KAAK,EAAE,EAAR;AAAYC,IAAAA,QAAQ,EAAE;AAAtB,GAApB;AAEA,QAAMI,QAAQ,GAAGhB,MAAM,EAAvB;AACA,QAAMiB,WAAW,GAAGjB,MAAM,EAA1B;AAEA,QAAM,CAACkB,SAAD,EAAYC,QAAZ,IAAyBjB,UAAU,CAACK,WAAD,EAAcQ,WAAd,CAAzC;AACA,QAAMK,OAAO,GAAIjB,UAAU,CAACG,WAAD,CAA3B;;AAEA,QAAMe,kBAAkB,GAAG,MAAM;AAChCF,IAAAA,QAAQ,CAAC;AAACT,MAAAA,IAAI,EAAC,gBAAN;AAAwBC,MAAAA,KAAK,EAAEK,QAAQ,CAACM,OAAT,CAAiBC,KAAhD;AAAuDX,MAAAA,QAAQ,EAAEK,WAAW,CAACK,OAAZ,CAAoBC;AAArF,KAAD,CAAR;AACA,GAFD;;AAIA,QAAMC,aAAa,GAAIC,CAAD,IAAO;AAC5BA,IAAAA,CAAC,CAACC,cAAF;;AAGA,QAAIV,QAAQ,CAACM,OAAT,CAAiBC,KAAjB,KAA2B,EAA/B,EACA;AACCI,MAAAA,OAAO,CAACC,GAAR,CAAY,kBAAiBV,SAAS,CAACP,KAAvC;AACAS,MAAAA,OAAO,CAACS,SAAR,CAAkBb,QAAQ,CAACM,OAAT,CAAiBC,KAAnC,EAA0CN,WAAW,CAACK,OAAZ,CAAoBC,KAA9D;AACA;AACD,GATD;;AAWAtB,EAAAA,SAAS,CAAE,MAAM;AAChBe,IAAAA,QAAQ,CAACM,OAAT,CAAiBQ,KAAjB;AACAH,IAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ;AACA,GAHQ,EAGN,EAHM,CAAT;AAKA,sBACC;AAAM,IAAA,SAAS,EAAExB,OAAO,CAAC2B,IAAzB;AAA+B,IAAA,QAAQ,EAAEP,aAAzC;AAAA,4BACC,QAAC,KAAD;AAAQ,MAAA,KAAK,EAAC,OAAd;AAAsB,MAAA,GAAG,EAAER,QAA3B;AAAqC,MAAA,KAAK,EAAE;AAC3CN,QAAAA,IAAI,EAAE,OADqC;AAE3CsB,QAAAA,QAAQ,EAAEX;AAFiC;AAA5C;AAAA;AAAA;AAAA;AAAA,YADD,eAKC,QAAC,KAAD;AAAO,MAAA,KAAK,EAAC,UAAb;AAAwB,MAAA,GAAG,EAAEJ,WAA7B;AAA0C,MAAA,KAAK,EAAE;AAChDP,QAAAA,IAAI,EAAE,UAD0C;AAEhDsB,QAAAA,QAAQ,EAAEX;AAFsC;AAAjD;AAAA;AAAA;AAAA;AAAA,YALD,eASC;AAAQ,MAAA,IAAI,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YATD;AAAA;AAAA;AAAA;AAAA;AAAA,UADD;AAaA;;GA3CQR,S;;KAAAA,S;AA6CT,eAAeA,SAAf","sourcesContent":["import React, { useRef, useEffect, useReducer, useContext} from 'react';\nimport classes from './LoginForm.module.css';\nimport Input from '../UI/Input';\nimport AuthContext from '../Store/auth-context';\n\nconst authReducer = (state, action) => {\n\t\n\tif (action.type == 'LOGIN') {\n\t\treturn { email: action.email, password: action.password }\t\t\n\t} else {\n\t\treturn { email: '', password: '' }\n\t}\n\n}\n\nfunction LoginForm (props)\t{\n\n\tconst InitialUser = {email: '', password: ''};\n\n\tconst emailRef = useRef();\n\tconst passwordRef = useRef();\n\t\n\tconst [authState, dispatch] =  useReducer(authReducer, InitialUser);\n\tconst ctxAuth =  useContext(AuthContext);\n\n\tconst changeEmailHandler = () => {\n\t\tdispatch({type:\"EMAIL_VALIDATE\", email: emailRef.current.value, password: passwordRef.current.value })\n\t}\n\n\tconst submitHandler = (e) => {\n\t\te.preventDefault();\n\t\t\n\t\t\n\t\tif( emailRef.current.value !== '' )\n\t\t{\n\t\t\tconsole.log(\"updated state\"+ authState.email);\n\t\t\tctxAuth.onSetUser(emailRef.current.value, passwordRef.current.value)  \n\t\t}\n\t}\n\t\n\tuseEffect (() => {\n\t\temailRef.current.focus();\n\t\tconsole.log(\"focusing\");\n\t}, []);\n\n\treturn (\n\t\t<form className={classes.form} onSubmit={submitHandler}>\n\t\t\t<Input  label=\"Email\" ref={emailRef} input={{\n\t\t\t\ttype: \"email\",\n\t\t\t\tonChange: changeEmailHandler,\n\t\t\t}}/>\n\t\t\t<Input label=\"Password\" ref={passwordRef} input={{\n\t\t\t\ttype: \"password\",\n\t\t\t\tonChange: changeEmailHandler\n\t\t\t}}/>\n\t\t\t<button type=\"submit\">Login</button>\n\t\t</form>\n\t)\n}\n\nexport default LoginForm;"]},"metadata":{},"sourceType":"module"}